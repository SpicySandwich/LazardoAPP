package com.product.LazardoProduct.DAO;

import java.util.List;

import com.product.LazardoProduct.Model.Product;

import org.apache.ibatis.annotations.Delete;
import org.apache.ibatis.annotations.Insert;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Select;

@Mapper
public interface ProductRepo {
	
	
	@Select("SELECT "
			+ "product_id as id, "
			+ "product_brand as brand, "
			+ "product_name as name, "
			+ "product_current_date as currentdate, "
			+ "product_expiration_date as expirationdate, "
			+ "product_comment as comment "
			+ "FROM tblazardoproduct")
	public List<Product> productList();
	
	@Insert("INSERT INTO tblazardoproduct("
			+ "product_brand, "
			+ "product_name,"
			+ "product_price,"
			+ "product_current_date,"
			+ "product_expiration_date"
			+ "product_comment"
			+ ") " +
		      " VALUES ("
		      + "#brand},"
		      + "#{name}, "
		      + "#{price}, "
		      + "#{currentdate}, "
		      + "#{expirationdate},"
		      + "#{comment} )")
	public Product insert(Product product);
	
	@Select("SELECT "
			+ "product_id as id, "
			+ "product_brand as brand, "
			+ "product_name as name, "
			+ "product_current_date as currentdate, "
			+ "product_expiration_date as expirationdate, "
			+ "product_comment as comment "
			+ "FROM tblazardoproduct "
			+ "WHERE product_id = #{id}")
	public Product findProductbyId(Integer id);
	
	
	@Insert("INSERT INTO tblazardoproduct "
			+ "product_brand,"
			+ "product_name,"
			+ "product_price,"
			+ "product_current_date,"
			+ "product_expiration_date,"
			+ "product_comment "
			+ "VALUES ("
			+ "#{brand}, "
			+ "#{name}, "
			+ "#{price}, "
			+ "#{currentdate}, "
			+ "#{expirationdate}, "
			+ "#{comment})")
	public int addProduct(Product product);
	
	
	@Delete("DELETE FROM tblazardoproduct WHERE product_id = #{id}")
	public Product deleteProduct(Integer id);
	
	 @Select("SELECT EXISTS(SELECT 1 FROM tblazardoproduct WHERE product_id = #{id})")
	 boolean ifIDExist(Integer id);


}
