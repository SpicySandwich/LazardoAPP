package com.client.LazardoClient.DAO;

import com.client.LazardoClient.Model.ClientDetails;
import com.client.LazardoClient.Model.ClientLogin;

import org.apache.ibatis.annotations.Insert;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.One;
import org.apache.ibatis.annotations.Result;
import org.apache.ibatis.annotations.Results;

@Mapper
public interface SignUpClientRepo {
	
	String INSERT_SIGNIN = "INSERT INTO tbclientlogin (client_login_id, client_username, client_password) "
		                                    + "VALUES ( #{loginId},#{username}, #{password} )" ;
	
	String INSERT_CLIENT_DETAILS = "INSERT INTO tbclientdetails (client_id, client_firstname, client_lastname, client_email, money_balance) "
		                                   + "VALUES ((SELECT client_login_id FROM tbclientlogin WHERE client_login_id = #{username}), "
		                                   + "#{firstname}, #{lastname}, #{email}, #{balance})";
	

//	@Results(value = {
//			@Result(property = "loginId", column = "client_login_id"),
//			@Result(property = "username", column = "client_username"),
//			@Result(property = "password", column = "client_password"),
//			@Result(property = "clientDetails", column = "client_login_id",javaType = ClientDetails.class, one = @One(select = "insertClientDetails"))
//	})
	@Insert(INSERT_SIGNIN)
	public boolean signInClient(ClientLogin clientLogin);
	
	@Insert(INSERT_CLIENT_DETAILS)
	public Integer insertClientDetails(ClientDetails clientDetails);

}
