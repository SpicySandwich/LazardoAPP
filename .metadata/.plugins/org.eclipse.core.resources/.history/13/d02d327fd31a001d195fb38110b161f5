package com.client.LazardoClient.DAO;

import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Update;

@Mapper
public interface ClientBalance {
	
	final String ADD_BALANCE = "UPDATE tbclientdetails  cd "
													+ "JOIN ( "
													+ "SELECT cd2.money_balance AS currentbalance, cd2.client_email AS clientemail "
													+ "FROM tbclientdetails cd2 "
													+ "WHERE cd2.client_email = #{} "
													+ ") balance "
													+ "SET cd.money_balance = balance.currentbalance + #{balance} "
													+ "WHERE cd.client_email = balance.clientemail; ";
	
	@Update(ADD_BALANCE)
	Integer addBalance(Integer balance);

}
